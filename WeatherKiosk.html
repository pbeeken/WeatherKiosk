<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="/resources/favicon.ico">
        <link rel="preconnect" href="https://fonts.googleapis.com"/>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
        <link href="https://fonts.googleapis.com/css2?family=Trade+Winds&display=swap" rel="stylesheet"/>
        <link rel="stylesheet" type="text/css" href="WeatherKiosk.css"/>
    </head>

    <body>
        <div class="shell">
            <div class="header">
                <img id="logo" src="resources/HHYC_Flag.png" alt="HHYC Logo">
                <span id="title">Horseshoe Harbor Yacht Club Tides, Wind &amp; Weather</span>
                <p id="version">v2.1.28</p>
            </div>

            <!--porchScreen-->
            <div id="porchScreen" class="waitScreen" alt="Porch Reservations">
                <div id="day1Box" class="displayBoxes">
                    <iframe id="porchToday" class="importGsheets" src="https://docs.google.com/spreadsheets/d/1GbMXSHZPnyOCj23iswpZLKU6qS9LjlBLstA0DuWigBc/htmlembed/sheet?gid=0&range=A1:D22&000"></iframe>
                </div>
                <div id="day2Box" class="displayBoxes">
                    <iframe id="porchTomorrow" class="importGsheets" src="https://docs.google.com/spreadsheets/d/1GbMXSHZPnyOCj23iswpZLKU6qS9LjlBLstA0DuWigBc/htmlembed/sheet?gid=246313815&range=A1:D22&000"></iframe>
                </div>
            </div>
            <!--porchScreen-->

            <!--boatScreen-->
                <div id="boatScreen" class="waitScreen" alt="Boat Reservations">
                    <div id="dayBoatBox" class="displayBoxes">
                        <iframe class="importGsheets" src="https://docs.google.com/spreadsheets/d/160WBuHYjSbOFJxJuQVlx1yP7pYlFd1rCF0LWiPigAuw/htmlembed/sheet?gid=0&range=A1:D22&000"></iframe>
                    </div>
                    <div id="ideal18Box" class="displayBoxes">
                        <iframe class="importGsheets" src="https://docs.google.com/spreadsheets/d/1sU_Gr6Gm7R3N6UQg5ntF16FvoHPYpKFkyK8jUlndJHM/htmlembed/sheet?gid=0&range=A1:E22&000"></iframe>
                    </div>
            </div>
            <!--boatScreen-->

            <!--weatherScreen-->
            <div id="weatherScreen" class="waitScreen enterScreen" alt="Tides, Wind & Weather">
                <div id="tideGraphBox">
                        <img id="tidegraph" src="resources/tmp/tideGraph.png" alt="Tide Graph"/>
                    </div>
                    <div id="yesterday" class="moon">
                        <img class="phase" src="resources/tmp/moon_yesterday.svg"/>
                    </div>
                    <div id="today" class="moon">
                        <img class="phase" src="resources/tmp/moon_today.svg"/>
                    </div>
                    <div id="tomorrow" class="moon">
                        <img class="phase" src="resources/tmp/moon_tomorrow.svg"/>
                    </div>
                    <div id="tideCartoonBox">
                        <img id="tidecartoon" src="resources/tmp/tideCartoon.png" alt="Tide Cartoon"/>
                    </div>
                    <div id="tideTableBox">
                        <iframe id="tideTable" src="resources/tmp/tideTable.html"></iframe>
                    </div>
                    <div id="radarBox">
                        <img id="radar" src="https://radar.weather.gov/ridge/standard/KOKX_loop.gif" alt="NOAA Radar" width="100%">
                    </div>
                    <div id="windGraphBox">
                        <img id="windgraph" src="resources/tmp/windGraph.png" alt="Wind Graph"/>
                    </div>
                    <div id="forecastBox">
                        <iframe id="forecast" src="resources/tmp/forecastGrid.html"></iframe>
                    </div>
            </div>
            <!--weatherScreen-->

            <div class="footer">
                <p id="clock">Waiting...</p>
                <p id="toast"></p>
                <p id="ephemeris">Sunrise and sunset</p>
                <p id="network">-↻↺-</p>
            </div>
        </div>
    </body>
    <script src="coreScript.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            runClock(document.timeline.currentTime);
            buildWeatherKiosk();
        })

        document.addEventListener("keypress",(ev)=>{
            const kp = ev.key.toUpperCase();
            // DEBUGGING EasterEggs
            // Force cycling the panel
            if (kp === 'F') cyclePanels();
            // Toggle the active cycling so we can examine and manipulate the screen
            else if (kp === 'S')  currentPanel = currentPanel < 0 ? 0 : -1;
        })
    </script>
</html>
